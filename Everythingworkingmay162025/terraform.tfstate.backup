{"version":4,"terraform_version":"1.9.1","serial":70,"lineage":"3ee74491-0632-c66e-7f4d-ae00b63e2db5","outputs":{"gitlab_initial_root_password_location":{"value":"/etc/gitlab/initial_root_password (use sudo cat to retrieve)","type":"string"},"gitlab_public_ip":{"value":"3.111.168.126","type":"string"},"gitlab_root_user":{"value":"root","type":"string"},"jenkins_master_private_ip":{"value":"10.10.2.128","type":"string"},"jenkins_password":{"value":"admin@123","type":"string"},"jenkins_slave_private_ips":{"value":["10.10.2.126"],"type":["tuple",["string"]]},"jenkins_username":{"value":"admin","type":"string"},"jump_server_public_ip":{"value":"3.110.245.37","type":"string"}},"resources":[{"mode":"data","type":"template_file","name":"slave_user_data","provider":"provider[\"registry.opentofu.org/hashicorp/template\"]","instances":[{"index_key":0,"schema_version":0,"attributes":{"filename":null,"id":"22c50cad1bd6d3cf3d83d02a438b300ea0da7fc5a69a853805d1a91608232910","rendered":"#!/bin/bash\nset -xe\n\n# Check if curl is installed\nif ! command -v curl \u0026\u003e /dev/null; then\n    echo \"curl not found, installing...\"\n    sudo yum install -y curl || { echo \"Failed to install curl, exiting.\"; exit 1; }\nelse\n    echo \"curl is already installed.\"\nfi\n\n# Install dependencies\nsudo yum install -y wget unzip jq\n\n# Install Java\nif sudo yum install -y java-21-amazon-corretto; then\n  echo \"Amazon Corretto 17 installed.\"\nelse\n  echo \"Trying OpenJDK 11...\"\n  if sudo yum install -y java-11-openjdk; then\n    echo \"OpenJDK 11 installed.\"\n  else\n    sudo yum install -y java-1.8.0-openjdk-devel || { echo \"Java install failed.\"; exit 1; }\n  fi\nfi\n\n# Remount /tmp if using tmpfs\nif mount | grep -qE '/tmp type tmpfs'; then\n  echo \"Replacing tmpfs /tmp...\"\n  sudo mkdir -p /var/tmp_disk\n  sudo chmod 1777 /var/tmp_disk\n  sudo mount --bind /var/tmp_disk /tmp\n  echo \"/tmp is now backed by disk.\"\nelse\n  echo \"/tmp is fine. No change.\"\nfi\n\n# Jenkins config variables\nJENKINS_URL=\"http://10.10.2.128:8080\"\nSLAVE_NAME=\"slave-1\"\nWORKDIR=\"/home/ec2-user/jenkins-agent\"\nMAX_RETRIES=60\n\n# Fetch password from SSM\necho \"Fetching Jenkins admin password from SSM...\"\nJENKINS_PASS=$(aws ssm get-parameter --name \"/jenkins/admin_password\" --with-decryption --query \"Parameter.Value\" --output text)\nJENKINS_USER=\"admin\"\n\n# Wait for Jenkins master to be available\ncount=0\nuntil curl -sL \"$JENKINS_URL/login\" \u003e /dev/null; do\n  echo \"Waiting for Jenkins to be ready...\"\n  sleep 10\n  count=$((count+1))\n  [ \"$count\" -ge \"$MAX_RETRIES\" ] \u0026\u0026 echo \"Jenkins not ready after $MAX_RETRIES attempts.\" \u0026\u0026 exit 1\ndone\n\n# Wait for the slave node to be defined in Jenkins\ncount=0\nuntil curl -s -u \"$JENKINS_USER:$JENKINS_PASS\" \"$JENKINS_URL/computer/$SLAVE_NAME/api/json\" | grep -q \"\\\"displayName\\\":\\\"$SLAVE_NAME\\\"\"; do\n  echo \"Waiting for $SLAVE_NAME to be registered in Jenkins...\"\n  sleep 10\n  count=$((count+1))\n  [ \"$count\" -ge \"$MAX_RETRIES\" ] \u0026\u0026 echo \"$SLAVE_NAME not found in Jenkins after $MAX_RETRIES tries.\" \u0026\u0026 exit 1\ndone\n\n# Setup working directory\nmkdir -p \"$WORKDIR/remoting\"\nchown -R ec2-user:ec2-user \"$WORKDIR\"\nchmod -R 755 \"$WORKDIR\"\ncd /home/ec2-user\n\n# Download agent JAR\nwget -q \"$JENKINS_URL/jnlpJars/agent.jar\" -O agent.jar\n[ ! -f agent.jar ] \u0026\u0026 echo \"agent.jar download failed.\" \u0026\u0026 exit 1\nchmod 755 agent.jar\n\n# Extract secret\nSECRET=$(curl -sL -u \"$JENKINS_USER:$JENKINS_PASS\" \"$JENKINS_URL/computer/$SLAVE_NAME/slave-agent.jnlp\" | grep -oP '(?\u003c=\u003cargument\u003e)[^\u003c]+' | head -n 1)\n\n# Prepare log file\nLOG_FILE=\"/var/log/jenkins-agent.log\"\nsudo touch \"$LOG_FILE\"\nsudo chown ec2-user:ec2-user \"$LOG_FILE\"\nchmod 644 \"$LOG_FILE\"\n\n# Start agent\nnohup java -jar agent.jar -url \"$JENKINS_URL\" -name \"$SLAVE_NAME\" -secret \"$SECRET\" -workDir \"$WORKDIR\" \u003e \"$LOG_FILE\" 2\u003e\u00261 \u0026\n\n# Wait until online\necho \"Waiting for agent '$SLAVE_NAME' to come online...\"\nretries=0\nwhile true; do\n  ONLINE=$(curl -s -u \"$JENKINS_USER:$JENKINS_PASS\" \"$JENKINS_URL/computer/$SLAVE_NAME/api/json\" | jq -r '.offline' 2\u003e/dev/null)\n  if [[ \"$ONLINE\" == \"false\" ]]; then\n    echo \"✅ Agent '$SLAVE_NAME' is online!\"\n    break\n  fi\n  sleep 5\n  retries=$((retries + 1))\n  if [[ $retries -ge $MAX_RETRIES ]]; then\n    echo \"❌ Agent '$SLAVE_NAME' failed to come online.\"\n    exit 1\n  fi\ndone\n","template":"#!/bin/bash\nset -xe\n\n# Check if curl is installed\nif ! command -v curl \u0026\u003e /dev/null; then\n    echo \"curl not found, installing...\"\n    sudo yum install -y curl || { echo \"Failed to install curl, exiting.\"; exit 1; }\nelse\n    echo \"curl is already installed.\"\nfi\n\n# Install dependencies\nsudo yum install -y wget unzip jq\n\n# Install Java\nif sudo yum install -y java-21-amazon-corretto; then\n  echo \"Amazon Corretto 17 installed.\"\nelse\n  echo \"Trying OpenJDK 11...\"\n  if sudo yum install -y java-11-openjdk; then\n    echo \"OpenJDK 11 installed.\"\n  else\n    sudo yum install -y java-1.8.0-openjdk-devel || { echo \"Java install failed.\"; exit 1; }\n  fi\nfi\n\n# Remount /tmp if using tmpfs\nif mount | grep -qE '/tmp type tmpfs'; then\n  echo \"Replacing tmpfs /tmp...\"\n  sudo mkdir -p /var/tmp_disk\n  sudo chmod 1777 /var/tmp_disk\n  sudo mount --bind /var/tmp_disk /tmp\n  echo \"/tmp is now backed by disk.\"\nelse\n  echo \"/tmp is fine. No change.\"\nfi\n\n# Jenkins config variables\nJENKINS_URL=\"${jenkins_url}\"\nSLAVE_NAME=\"${slave_name}\"\nWORKDIR=\"/home/ec2-user/jenkins-agent\"\nMAX_RETRIES=60\n\n# Fetch password from SSM\necho \"Fetching Jenkins admin password from SSM...\"\nJENKINS_PASS=$(aws ssm get-parameter --name \"/jenkins/admin_password\" --with-decryption --query \"Parameter.Value\" --output text)\nJENKINS_USER=\"admin\"\n\n# Wait for Jenkins master to be available\ncount=0\nuntil curl -sL \"$JENKINS_URL/login\" \u003e /dev/null; do\n  echo \"Waiting for Jenkins to be ready...\"\n  sleep 10\n  count=$((count+1))\n  [ \"$count\" -ge \"$MAX_RETRIES\" ] \u0026\u0026 echo \"Jenkins not ready after $MAX_RETRIES attempts.\" \u0026\u0026 exit 1\ndone\n\n# Wait for the slave node to be defined in Jenkins\ncount=0\nuntil curl -s -u \"$JENKINS_USER:$JENKINS_PASS\" \"$JENKINS_URL/computer/$SLAVE_NAME/api/json\" | grep -q \"\\\"displayName\\\":\\\"$SLAVE_NAME\\\"\"; do\n  echo \"Waiting for $SLAVE_NAME to be registered in Jenkins...\"\n  sleep 10\n  count=$((count+1))\n  [ \"$count\" -ge \"$MAX_RETRIES\" ] \u0026\u0026 echo \"$SLAVE_NAME not found in Jenkins after $MAX_RETRIES tries.\" \u0026\u0026 exit 1\ndone\n\n# Setup working directory\nmkdir -p \"$WORKDIR/remoting\"\nchown -R ec2-user:ec2-user \"$WORKDIR\"\nchmod -R 755 \"$WORKDIR\"\ncd /home/ec2-user\n\n# Download agent JAR\nwget -q \"$JENKINS_URL/jnlpJars/agent.jar\" -O agent.jar\n[ ! -f agent.jar ] \u0026\u0026 echo \"agent.jar download failed.\" \u0026\u0026 exit 1\nchmod 755 agent.jar\n\n# Extract secret\nSECRET=$(curl -sL -u \"$JENKINS_USER:$JENKINS_PASS\" \"$JENKINS_URL/computer/$SLAVE_NAME/slave-agent.jnlp\" | grep -oP '(?\u003c=\u003cargument\u003e)[^\u003c]+' | head -n 1)\n\n# Prepare log file\nLOG_FILE=\"/var/log/jenkins-agent.log\"\nsudo touch \"$LOG_FILE\"\nsudo chown ec2-user:ec2-user \"$LOG_FILE\"\nchmod 644 \"$LOG_FILE\"\n\n# Start agent\nnohup java -jar agent.jar -url \"$JENKINS_URL\" -name \"$SLAVE_NAME\" -secret \"$SECRET\" -workDir \"$WORKDIR\" \u003e \"$LOG_FILE\" 2\u003e\u00261 \u0026\n\n# Wait until online\necho \"Waiting for agent '$SLAVE_NAME' to come online...\"\nretries=0\nwhile true; do\n  ONLINE=$(curl -s -u \"$JENKINS_USER:$JENKINS_PASS\" \"$JENKINS_URL/computer/$SLAVE_NAME/api/json\" | jq -r '.offline' 2\u003e/dev/null)\n  if [[ \"$ONLINE\" == \"false\" ]]; then\n    echo \"✅ Agent '$SLAVE_NAME' is online!\"\n    break\n  fi\n  sleep 5\n  retries=$((retries + 1))\n  if [[ $retries -ge $MAX_RETRIES ]]; then\n    echo \"❌ Agent '$SLAVE_NAME' failed to come online.\"\n    exit 1\n  fi\ndone\n","vars":{"jenkins_url":"http://10.10.2.128:8080","slave_name":"slave-1"}},"sensitive_attributes":[]}]},{"mode":"managed","type":"aws_eip","name":"jump_server_eip","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"address":null,"allocation_id":"eipalloc-0ee05b98f5331f0d8","arn":"arn:aws:ec2:ap-south-1:034362062877:elastic-ip/eipalloc-0ee05b98f5331f0d8","associate_with_private_ip":null,"association_id":"eipassoc-067edd1dfdeee83c2","carrier_ip":"","customer_owned_ip":"","customer_owned_ipv4_pool":"","domain":"vpc","id":"eipalloc-0ee05b98f5331f0d8","instance":"i-04c35eae54aa906e8","ipam_pool_id":null,"network_border_group":"ap-south-1","network_interface":"eni-083b6e72db93ecaed","private_dns":"ip-10-10-1-51.ap-south-1.compute.internal","private_ip":"10.10.1.51","ptr_record":"","public_dns":"ec2-3-110-245-37.ap-south-1.compute.amazonaws.com","public_ip":"3.110.245.37","public_ipv4_pool":"amazon","tags":{"Name":"Jump Server EIP"},"tags_all":{"Name":"Jump Server EIP"},"timeouts":null,"vpc":true},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiZGVsZXRlIjoxODAwMDAwMDAwMDAsInJlYWQiOjkwMDAwMDAwMDAwMCwidXBkYXRlIjozMDAwMDAwMDAwMDB9fQ==","dependencies":["aws_iam_instance_profile.jenkins_master_instance_profile","aws_iam_role.jenkins_master_role","aws_instance.jenkins_master","aws_instance.jump_server","aws_internet_gateway.vzrsp_cicd_igw","aws_security_group.jenkins_sg","aws_security_group.jump_sg","aws_subnet.vzrsp_cicd_private_subnet","aws_subnet.vzrsp_cicd_public_subnet","aws_vpc.vzrsp_cicd_vpc"]}]},{"mode":"managed","type":"aws_eip","name":"vzrsp_cicd_nat_eip","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"address":null,"allocation_id":"eipalloc-026e64b61640011b9","arn":"arn:aws:ec2:ap-south-1:034362062877:elastic-ip/eipalloc-026e64b61640011b9","associate_with_private_ip":null,"association_id":"","carrier_ip":"","customer_owned_ip":"","customer_owned_ipv4_pool":"","domain":"vpc","id":"eipalloc-026e64b61640011b9","instance":"","ipam_pool_id":null,"network_border_group":"ap-south-1","network_interface":"","private_dns":null,"private_ip":"","ptr_record":"","public_dns":"ec2-13-127-229-64.ap-south-1.compute.amazonaws.com","public_ip":"13.127.229.64","public_ipv4_pool":"amazon","tags":null,"tags_all":{},"timeouts":null,"vpc":true},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiZGVsZXRlIjoxODAwMDAwMDAwMDAsInJlYWQiOjkwMDAwMDAwMDAwMCwidXBkYXRlIjozMDAwMDAwMDAwMDB9fQ=="}]},{"mode":"managed","type":"aws_iam_instance_profile","name":"jenkins_master_instance_profile","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"arn":"arn:aws:iam::034362062877:instance-profile/jenkins-master-instance-profile","create_date":"2025-05-23T06:34:15Z","id":"jenkins-master-instance-profile","name":"jenkins-master-instance-profile","name_prefix":"","path":"/","role":"jenkins-master-role","tags":null,"tags_all":{},"unique_id":"AIPAQQABDPAO2TBJKDD5H"},"sensitive_attributes":[],"private":"bnVsbA==","dependencies":["aws_iam_role.jenkins_master_role"]}]},{"mode":"managed","type":"aws_iam_instance_profile","name":"jenkins_slave_instance_profile","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"arn":"arn:aws:iam::034362062877:instance-profile/jenkins-slave-instance-profile","create_date":"2025-05-23T06:34:14Z","id":"jenkins-slave-instance-profile","name":"jenkins-slave-instance-profile","name_prefix":"","path":"/","role":"jenkins-slave-role","tags":null,"tags_all":{},"unique_id":"AIPAQQABDPAO4L7RU3QU7"},"sensitive_attributes":[],"private":"bnVsbA==","dependencies":["aws_iam_role.jenkins_slave_role"]}]},{"mode":"managed","type":"aws_iam_policy","name":"jenkins_master_ssm_policy","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"arn":"arn:aws:iam::034362062877:policy/jenkins-master-ssm-policy","attachment_count":0,"description":"","id":"arn:aws:iam::034362062877:policy/jenkins-master-ssm-policy","name":"jenkins-master-ssm-policy","name_prefix":"","path":"/","policy":"{\"Statement\":[{\"Action\":\"ssm:GetParameter\",\"Effect\":\"Allow\",\"Resource\":\"arn:aws:ssm:*:*:parameter/jenkins/admin_password\"}],\"Version\":\"2012-10-17\"}","policy_id":"ANPAQQABDPAOR6GFBKSUV","tags":null,"tags_all":{}},"sensitive_attributes":[],"private":"bnVsbA=="}]},{"mode":"managed","type":"aws_iam_policy","name":"jenkins_slave_ssm_policy","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"arn":"arn:aws:iam::034362062877:policy/jenkins-slave-ssm-policy","attachment_count":0,"description":"","id":"arn:aws:iam::034362062877:policy/jenkins-slave-ssm-policy","name":"jenkins-slave-ssm-policy","name_prefix":"","path":"/","policy":"{\"Statement\":[{\"Action\":\"ssm:GetParameter\",\"Effect\":\"Allow\",\"Resource\":\"arn:aws:ssm:*:*:parameter/jenkins/admin_password\"}],\"Version\":\"2012-10-17\"}","policy_id":"ANPAQQABDPAOSXZGG6NLE","tags":null,"tags_all":{}},"sensitive_attributes":[],"private":"bnVsbA=="}]},{"mode":"managed","type":"aws_iam_role","name":"jenkins_master_role","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"arn":"arn:aws:iam::034362062877:role/jenkins-master-role","assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ec2.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}","create_date":"2025-05-23T06:34:13Z","description":"","force_detach_policies":false,"id":"jenkins-master-role","inline_policy":[],"managed_policy_arns":[],"max_session_duration":3600,"name":"jenkins-master-role","name_prefix":"","path":"/","permissions_boundary":"","tags":null,"tags_all":{},"unique_id":"AROAQQABDPAORLHWJLQFD"},"sensitive_attributes":[],"private":"bnVsbA=="}]},{"mode":"managed","type":"aws_iam_role","name":"jenkins_slave_role","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"arn":"arn:aws:iam::034362062877:role/jenkins-slave-role","assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ec2.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}","create_date":"2025-05-23T06:34:13Z","description":"","force_detach_policies":false,"id":"jenkins-slave-role","inline_policy":[],"managed_policy_arns":[],"max_session_duration":3600,"name":"jenkins-slave-role","name_prefix":"","path":"/","permissions_boundary":"","tags":null,"tags_all":{},"unique_id":"AROAQQABDPAO3SBGL7F3S"},"sensitive_attributes":[],"private":"bnVsbA=="}]},{"mode":"managed","type":"aws_iam_role_policy_attachment","name":"jenkins_master_policy_attach","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"id":"jenkins-master-role-20250523063415083200000003","policy_arn":"arn:aws:iam::034362062877:policy/jenkins-master-ssm-policy","role":"jenkins-master-role"},"sensitive_attributes":[],"private":"bnVsbA==","dependencies":["aws_iam_policy.jenkins_master_ssm_policy","aws_iam_role.jenkins_master_role"]}]},{"mode":"managed","type":"aws_iam_role_policy_attachment","name":"jenkins_slave_policy_attach","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"id":"jenkins-slave-role-20250523063414522600000001","policy_arn":"arn:aws:iam::034362062877:policy/jenkins-slave-ssm-policy","role":"jenkins-slave-role"},"sensitive_attributes":[],"private":"bnVsbA==","dependencies":["aws_iam_policy.jenkins_slave_ssm_policy","aws_iam_role.jenkins_slave_role"]}]},{"mode":"managed","type":"aws_instance","name":"gitlab_server","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":1,"attributes":{"ami":"ami-0af9569868786b23a","arn":"arn:aws:ec2:ap-south-1:034362062877:instance/i-0ef595e8fe57b57c5","associate_public_ip_address":true,"availability_zone":"ap-south-1a","capacity_reservation_specification":[{"capacity_reservation_preference":"open","capacity_reservation_target":[]}],"cpu_core_count":1,"cpu_options":[{"amd_sev_snp":"","core_count":1,"threads_per_core":2}],"cpu_threads_per_core":2,"credit_specification":[{"cpu_credits":"unlimited"}],"disable_api_stop":false,"disable_api_termination":false,"ebs_block_device":[],"ebs_optimized":false,"enable_primary_ipv6":null,"enclave_options":[{"enabled":false}],"ephemeral_block_device":[],"get_password_data":false,"hibernation":false,"host_id":"","host_resource_group_arn":null,"iam_instance_profile":"","id":"i-0ef595e8fe57b57c5","instance_initiated_shutdown_behavior":"stop","instance_lifecycle":"","instance_market_options":[],"instance_state":"running","instance_type":"t3.large","ipv6_address_count":0,"ipv6_addresses":[],"key_name":"mumbaipemkey","launch_template":[],"maintenance_options":[{"auto_recovery":"default"}],"metadata_options":[{"http_endpoint":"enabled","http_protocol_ipv6":"disabled","http_put_response_hop_limit":2,"http_tokens":"required","instance_metadata_tags":"disabled"}],"monitoring":false,"network_interface":[],"outpost_arn":"","password_data":"","placement_group":"","placement_partition_number":0,"primary_network_interface_id":"eni-0a7786465fd9a5892","private_dns":"ip-10-10-1-87.ap-south-1.compute.internal","private_dns_name_options":[{"enable_resource_name_dns_a_record":false,"enable_resource_name_dns_aaaa_record":false,"hostname_type":"ip-name"}],"private_ip":"10.10.1.87","public_dns":"","public_ip":"3.111.168.126","root_block_device":[{"delete_on_termination":true,"device_name":"/dev/xvda","encrypted":false,"iops":3000,"kms_key_id":"","tags":null,"tags_all":{},"throughput":125,"volume_id":"vol-039fa8f4047c93d90","volume_size":50,"volume_type":"gp3"}],"secondary_private_ips":[],"security_groups":[],"source_dest_check":true,"spot_instance_request_id":"","subnet_id":"subnet-03fac3a1880c08874","tags":{"Name":"Git_lab Server"},"tags_all":{"Name":"Git_lab Server"},"tenancy":"default","timeouts":null,"user_data":"ceca5b77681a87339fe0ca31cbe52367155c87d7","user_data_base64":null,"user_data_replace_on_change":false,"volume_tags":null,"vpc_security_group_ids":["sg-0bd72e262c849354b"]},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTIwMDAwMDAwMDAwMCwicmVhZCI6OTAwMDAwMDAwMDAwLCJ1cGRhdGUiOjYwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9","dependencies":["aws_security_group.gitlab_sg","aws_subnet.vzrsp_cicd_public_subnet","aws_vpc.vzrsp_cicd_vpc"]}]},{"mode":"managed","type":"aws_instance","name":"jenkins_master","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":1,"attributes":{"ami":"ami-0af9569868786b23a","arn":"arn:aws:ec2:ap-south-1:034362062877:instance/i-022dafd7dc2f1173f","associate_public_ip_address":false,"availability_zone":"ap-south-1a","capacity_reservation_specification":[{"capacity_reservation_preference":"open","capacity_reservation_target":[]}],"cpu_core_count":1,"cpu_options":[{"amd_sev_snp":"","core_count":1,"threads_per_core":2}],"cpu_threads_per_core":2,"credit_specification":[{"cpu_credits":"unlimited"}],"disable_api_stop":false,"disable_api_termination":false,"ebs_block_device":[],"ebs_optimized":false,"enable_primary_ipv6":null,"enclave_options":[{"enabled":false}],"ephemeral_block_device":[],"get_password_data":false,"hibernation":false,"host_id":"","host_resource_group_arn":null,"iam_instance_profile":"jenkins-master-instance-profile","id":"i-022dafd7dc2f1173f","instance_initiated_shutdown_behavior":"stop","instance_lifecycle":"","instance_market_options":[],"instance_state":"running","instance_type":"t3.medium","ipv6_address_count":0,"ipv6_addresses":[],"key_name":"mumbaipemkey","launch_template":[],"maintenance_options":[{"auto_recovery":"default"}],"metadata_options":[{"http_endpoint":"enabled","http_protocol_ipv6":"disabled","http_put_response_hop_limit":2,"http_tokens":"required","instance_metadata_tags":"disabled"}],"monitoring":false,"network_interface":[],"outpost_arn":"","password_data":"","placement_group":"","placement_partition_number":0,"primary_network_interface_id":"eni-0ea9e24230bc2c035","private_dns":"ip-10-10-2-128.ap-south-1.compute.internal","private_dns_name_options":[{"enable_resource_name_dns_a_record":false,"enable_resource_name_dns_aaaa_record":false,"hostname_type":"ip-name"}],"private_ip":"10.10.2.128","public_dns":"","public_ip":"","root_block_device":[{"delete_on_termination":true,"device_name":"/dev/xvda","encrypted":false,"iops":3000,"kms_key_id":"","tags":null,"tags_all":{},"throughput":125,"volume_id":"vol-05359ab856cd0c9e5","volume_size":30,"volume_type":"gp3"}],"secondary_private_ips":[],"security_groups":[],"source_dest_check":true,"spot_instance_request_id":"","subnet_id":"subnet-0ac83dc5b4ed57695","tags":{"Name":"Jenkins Master"},"tags_all":{"Name":"Jenkins Master"},"tenancy":"default","timeouts":null,"user_data":"4147c5af051e91e51c96be54913270d073deddbf","user_data_base64":null,"user_data_replace_on_change":false,"volume_tags":null,"vpc_security_group_ids":["sg-056f62c4f515af914"]},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTIwMDAwMDAwMDAwMCwicmVhZCI6OTAwMDAwMDAwMDAwLCJ1cGRhdGUiOjYwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9","dependencies":["aws_iam_instance_profile.jenkins_master_instance_profile","aws_iam_role.jenkins_master_role","aws_security_group.jenkins_sg","aws_security_group.jump_sg","aws_subnet.vzrsp_cicd_private_subnet","aws_vpc.vzrsp_cicd_vpc"]}]},{"mode":"managed","type":"aws_instance","name":"jenkins_slave","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"index_key":0,"schema_version":1,"attributes":{"ami":"ami-0af9569868786b23a","arn":"arn:aws:ec2:ap-south-1:034362062877:instance/i-0cee7625c74216c46","associate_public_ip_address":false,"availability_zone":"ap-south-1a","capacity_reservation_specification":[{"capacity_reservation_preference":"open","capacity_reservation_target":[]}],"cpu_core_count":1,"cpu_options":[{"amd_sev_snp":"","core_count":1,"threads_per_core":2}],"cpu_threads_per_core":2,"credit_specification":[{"cpu_credits":"unlimited"}],"disable_api_stop":false,"disable_api_termination":false,"ebs_block_device":[],"ebs_optimized":false,"enable_primary_ipv6":null,"enclave_options":[{"enabled":false}],"ephemeral_block_device":[],"get_password_data":false,"hibernation":false,"host_id":"","host_resource_group_arn":null,"iam_instance_profile":"jenkins-slave-instance-profile","id":"i-0cee7625c74216c46","instance_initiated_shutdown_behavior":"stop","instance_lifecycle":"","instance_market_options":[],"instance_state":"running","instance_type":"t3.micro","ipv6_address_count":0,"ipv6_addresses":[],"key_name":"mumbaipemkey","launch_template":[],"maintenance_options":[{"auto_recovery":"default"}],"metadata_options":[{"http_endpoint":"enabled","http_protocol_ipv6":"disabled","http_put_response_hop_limit":2,"http_tokens":"required","instance_metadata_tags":"disabled"}],"monitoring":false,"network_interface":[],"outpost_arn":"","password_data":"","placement_group":"","placement_partition_number":0,"primary_network_interface_id":"eni-0cf54131bfafa6d83","private_dns":"ip-10-10-2-126.ap-south-1.compute.internal","private_dns_name_options":[{"enable_resource_name_dns_a_record":false,"enable_resource_name_dns_aaaa_record":false,"hostname_type":"ip-name"}],"private_ip":"10.10.2.126","public_dns":"","public_ip":"","root_block_device":[{"delete_on_termination":true,"device_name":"/dev/xvda","encrypted":false,"iops":3000,"kms_key_id":"","tags":null,"tags_all":{},"throughput":125,"volume_id":"vol-05c8a04256a82dcfd","volume_size":50,"volume_type":"gp3"}],"secondary_private_ips":[],"security_groups":[],"source_dest_check":true,"spot_instance_request_id":"","subnet_id":"subnet-0ac83dc5b4ed57695","tags":{"Name":"Jenkins Slave-1"},"tags_all":{"Name":"Jenkins Slave-1"},"tenancy":"default","timeouts":null,"user_data":"4d2773dd307cbcc494a6db0d029a4749bc8e2f46","user_data_base64":null,"user_data_replace_on_change":false,"volume_tags":null,"vpc_security_group_ids":["sg-056f62c4f515af914"]},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTIwMDAwMDAwMDAwMCwicmVhZCI6OTAwMDAwMDAwMDAwLCJ1cGRhdGUiOjYwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9","dependencies":["aws_eip.vzrsp_cicd_nat_eip","aws_iam_instance_profile.jenkins_master_instance_profile","aws_iam_instance_profile.jenkins_slave_instance_profile","aws_iam_role.jenkins_master_role","aws_iam_role.jenkins_slave_role","aws_instance.jenkins_master","aws_internet_gateway.vzrsp_cicd_igw","aws_nat_gateway.vzrsp_cicd_nat","aws_security_group.jenkins_sg","aws_security_group.jump_sg","aws_subnet.vzrsp_cicd_private_subnet","aws_subnet.vzrsp_cicd_public_subnet","aws_vpc.vzrsp_cicd_vpc","data.template_file.slave_user_data"]}]},{"mode":"managed","type":"aws_instance","name":"jump_server","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":1,"attributes":{"ami":"ami-0af9569868786b23a","arn":"arn:aws:ec2:ap-south-1:034362062877:instance/i-04c35eae54aa906e8","associate_public_ip_address":true,"availability_zone":"ap-south-1a","capacity_reservation_specification":[{"capacity_reservation_preference":"open","capacity_reservation_target":[]}],"cpu_core_count":1,"cpu_options":[{"amd_sev_snp":"","core_count":1,"threads_per_core":2}],"cpu_threads_per_core":2,"credit_specification":[{"cpu_credits":"unlimited"}],"disable_api_stop":false,"disable_api_termination":false,"ebs_block_device":[],"ebs_optimized":false,"enable_primary_ipv6":null,"enclave_options":[{"enabled":false}],"ephemeral_block_device":[],"get_password_data":false,"hibernation":false,"host_id":"","host_resource_group_arn":null,"iam_instance_profile":"","id":"i-04c35eae54aa906e8","instance_initiated_shutdown_behavior":"stop","instance_lifecycle":"","instance_market_options":[],"instance_state":"running","instance_type":"t3.micro","ipv6_address_count":0,"ipv6_addresses":[],"key_name":"mumbaipemkey","launch_template":[],"maintenance_options":[{"auto_recovery":"default"}],"metadata_options":[{"http_endpoint":"enabled","http_protocol_ipv6":"disabled","http_put_response_hop_limit":2,"http_tokens":"required","instance_metadata_tags":"disabled"}],"monitoring":false,"network_interface":[],"outpost_arn":"","password_data":"","placement_group":"","placement_partition_number":0,"primary_network_interface_id":"eni-083b6e72db93ecaed","private_dns":"ip-10-10-1-51.ap-south-1.compute.internal","private_dns_name_options":[{"enable_resource_name_dns_a_record":false,"enable_resource_name_dns_aaaa_record":false,"hostname_type":"ip-name"}],"private_ip":"10.10.1.51","public_dns":"","public_ip":"43.205.236.164","root_block_device":[{"delete_on_termination":true,"device_name":"/dev/xvda","encrypted":false,"iops":3000,"kms_key_id":"","tags":null,"tags_all":{},"throughput":125,"volume_id":"vol-03a49567ad7023a3a","volume_size":20,"volume_type":"gp3"}],"secondary_private_ips":[],"security_groups":[],"source_dest_check":true,"spot_instance_request_id":"","subnet_id":"subnet-03fac3a1880c08874","tags":{"Name":"Jump Server"},"tags_all":{"Name":"Jump Server"},"tenancy":"default","timeouts":null,"user_data":"b5798c4e9c8daec2c7b9b2dae6dab6489f40f3ab","user_data_base64":null,"user_data_replace_on_change":false,"volume_tags":null,"vpc_security_group_ids":["sg-065c131d87c2d5d7c"]},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTIwMDAwMDAwMDAwMCwicmVhZCI6OTAwMDAwMDAwMDAwLCJ1cGRhdGUiOjYwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9","dependencies":["aws_iam_instance_profile.jenkins_master_instance_profile","aws_iam_role.jenkins_master_role","aws_instance.jenkins_master","aws_security_group.jenkins_sg","aws_security_group.jump_sg","aws_subnet.vzrsp_cicd_private_subnet","aws_subnet.vzrsp_cicd_public_subnet","aws_vpc.vzrsp_cicd_vpc"]}]},{"mode":"managed","type":"aws_internet_gateway","name":"vzrsp_cicd_igw","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"arn":"arn:aws:ec2:ap-south-1:034362062877:internet-gateway/igw-0cab2298c6cfa9a7d","id":"igw-0cab2298c6cfa9a7d","owner_id":"034362062877","tags":{"Name":"vzrsp-cicd-igw"},"tags_all":{"Name":"vzrsp-cicd-igw"},"timeouts":null,"vpc_id":"vpc-0f592e81b7d6dd1f6"},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInVwZGF0ZSI6MTIwMDAwMDAwMDAwMH19","dependencies":["aws_vpc.vzrsp_cicd_vpc"]}]},{"mode":"managed","type":"aws_nat_gateway","name":"vzrsp_cicd_nat","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"allocation_id":"eipalloc-026e64b61640011b9","association_id":"eipassoc-0746a0656aae7f594","connectivity_type":"public","id":"nat-0bee0f1a106189fef","network_interface_id":"eni-0ebeb7f521cbef3bf","private_ip":"10.10.1.232","public_ip":"13.127.229.64","secondary_allocation_ids":null,"secondary_private_ip_address_count":0,"secondary_private_ip_addresses":[],"subnet_id":"subnet-03fac3a1880c08874","tags":{"Name":"vzrsp-cicd-nat-gateway"},"tags_all":{"Name":"vzrsp-cicd-nat-gateway"},"timeouts":null},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTgwMDAwMDAwMDAwMCwidXBkYXRlIjo2MDAwMDAwMDAwMDB9fQ==","dependencies":["aws_eip.vzrsp_cicd_nat_eip","aws_internet_gateway.vzrsp_cicd_igw","aws_subnet.vzrsp_cicd_public_subnet","aws_vpc.vzrsp_cicd_vpc"]}]},{"mode":"managed","type":"aws_route_table","name":"vzrsp_cicd_private_rt","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"arn":"arn:aws:ec2:ap-south-1:034362062877:route-table/rtb-07a423cedf91f7a16","id":"rtb-07a423cedf91f7a16","owner_id":"034362062877","propagating_vgws":[],"route":[{"carrier_gateway_id":"","cidr_block":"0.0.0.0/0","core_network_arn":"","destination_prefix_list_id":"","egress_only_gateway_id":"","gateway_id":"","ipv6_cidr_block":"","local_gateway_id":"","nat_gateway_id":"nat-0bee0f1a106189fef","network_interface_id":"","transit_gateway_id":"","vpc_endpoint_id":"","vpc_peering_connection_id":""}],"tags":{"Name":"vzrsp-cicd-private-rt"},"tags_all":{"Name":"vzrsp-cicd-private-rt"},"timeouts":null,"vpc_id":"vpc-0f592e81b7d6dd1f6"},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDAsImRlbGV0ZSI6MzAwMDAwMDAwMDAwLCJ1cGRhdGUiOjEyMDAwMDAwMDAwMH19","dependencies":["aws_eip.vzrsp_cicd_nat_eip","aws_internet_gateway.vzrsp_cicd_igw","aws_nat_gateway.vzrsp_cicd_nat","aws_subnet.vzrsp_cicd_public_subnet","aws_vpc.vzrsp_cicd_vpc"]}]},{"mode":"managed","type":"aws_route_table","name":"vzrsp_cicd_public_rt","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"arn":"arn:aws:ec2:ap-south-1:034362062877:route-table/rtb-070d6ed774de4e260","id":"rtb-070d6ed774de4e260","owner_id":"034362062877","propagating_vgws":[],"route":[{"carrier_gateway_id":"","cidr_block":"0.0.0.0/0","core_network_arn":"","destination_prefix_list_id":"","egress_only_gateway_id":"","gateway_id":"igw-0cab2298c6cfa9a7d","ipv6_cidr_block":"","local_gateway_id":"","nat_gateway_id":"","network_interface_id":"","transit_gateway_id":"","vpc_endpoint_id":"","vpc_peering_connection_id":""}],"tags":{"Name":"vzrsp-cicd-public-rt"},"tags_all":{"Name":"vzrsp-cicd-public-rt"},"timeouts":null,"vpc_id":"vpc-0f592e81b7d6dd1f6"},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDAsImRlbGV0ZSI6MzAwMDAwMDAwMDAwLCJ1cGRhdGUiOjEyMDAwMDAwMDAwMH19","dependencies":["aws_internet_gateway.vzrsp_cicd_igw","aws_vpc.vzrsp_cicd_vpc"]}]},{"mode":"managed","type":"aws_route_table_association","name":"vzrsp_cicd_private_assoc","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"index_key":0,"schema_version":0,"attributes":{"gateway_id":"","id":"rtbassoc-0589171d2ac93aa39","route_table_id":"rtb-07a423cedf91f7a16","subnet_id":"subnet-0ac83dc5b4ed57695","timeouts":null},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDAsImRlbGV0ZSI6MzAwMDAwMDAwMDAwLCJ1cGRhdGUiOjEyMDAwMDAwMDAwMH19","dependencies":["aws_eip.vzrsp_cicd_nat_eip","aws_internet_gateway.vzrsp_cicd_igw","aws_nat_gateway.vzrsp_cicd_nat","aws_route_table.vzrsp_cicd_private_rt","aws_subnet.vzrsp_cicd_private_subnet","aws_subnet.vzrsp_cicd_public_subnet","aws_vpc.vzrsp_cicd_vpc"]},{"index_key":1,"schema_version":0,"attributes":{"gateway_id":"","id":"rtbassoc-09dd53336377583ae","route_table_id":"rtb-07a423cedf91f7a16","subnet_id":"subnet-0846275bda6b67170","timeouts":null},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDAsImRlbGV0ZSI6MzAwMDAwMDAwMDAwLCJ1cGRhdGUiOjEyMDAwMDAwMDAwMH19","dependencies":["aws_eip.vzrsp_cicd_nat_eip","aws_internet_gateway.vzrsp_cicd_igw","aws_nat_gateway.vzrsp_cicd_nat","aws_route_table.vzrsp_cicd_private_rt","aws_subnet.vzrsp_cicd_private_subnet","aws_subnet.vzrsp_cicd_public_subnet","aws_vpc.vzrsp_cicd_vpc"]}]},{"mode":"managed","type":"aws_route_table_association","name":"vzrsp_cicd_public_assoc","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"index_key":0,"schema_version":0,"attributes":{"gateway_id":"","id":"rtbassoc-00a116c95d0db7035","route_table_id":"rtb-070d6ed774de4e260","subnet_id":"subnet-03fac3a1880c08874","timeouts":null},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDAsImRlbGV0ZSI6MzAwMDAwMDAwMDAwLCJ1cGRhdGUiOjEyMDAwMDAwMDAwMH19","dependencies":["aws_internet_gateway.vzrsp_cicd_igw","aws_route_table.vzrsp_cicd_public_rt","aws_subnet.vzrsp_cicd_public_subnet","aws_vpc.vzrsp_cicd_vpc"]},{"index_key":1,"schema_version":0,"attributes":{"gateway_id":"","id":"rtbassoc-0f97eaa2960a06eac","route_table_id":"rtb-070d6ed774de4e260","subnet_id":"subnet-092ee609e47ce0032","timeouts":null},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDAsImRlbGV0ZSI6MzAwMDAwMDAwMDAwLCJ1cGRhdGUiOjEyMDAwMDAwMDAwMH19","dependencies":["aws_internet_gateway.vzrsp_cicd_igw","aws_route_table.vzrsp_cicd_public_rt","aws_subnet.vzrsp_cicd_public_subnet","aws_vpc.vzrsp_cicd_vpc"]}]},{"mode":"managed","type":"aws_security_group","name":"gitlab_sg","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":1,"attributes":{"arn":"arn:aws:ec2:ap-south-1:034362062877:security-group/sg-0bd72e262c849354b","description":"Allow GitLab web and SSH access","egress":[{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":0,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"-1","security_groups":[],"self":false,"to_port":0}],"id":"sg-0bd72e262c849354b","ingress":[{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":22,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":false,"to_port":22},{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":443,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":false,"to_port":443},{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":80,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":false,"to_port":80},{"cidr_blocks":["10.10.0.0/16"],"description":"","from_port":0,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":false,"to_port":65535}],"name":"gitlab-sg","name_prefix":"","owner_id":"034362062877","revoke_rules_on_delete":false,"tags":{"Name":"gitlab-sg"},"tags_all":{"Name":"gitlab-sg"},"timeouts":null,"vpc_id":"vpc-0f592e81b7d6dd1f6"},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6OTAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIxIn0=","dependencies":["aws_vpc.vzrsp_cicd_vpc"]}]},{"mode":"managed","type":"aws_security_group","name":"jenkins_sg","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":1,"attributes":{"arn":"arn:aws:ec2:ap-south-1:034362062877:security-group/sg-056f62c4f515af914","description":"Allow Jenkins traffic","egress":[{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":0,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"-1","security_groups":[],"self":false,"to_port":0}],"id":"sg-056f62c4f515af914","ingress":[{"cidr_blocks":["10.10.0.0/16"],"description":"","from_port":0,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":false,"to_port":65535},{"cidr_blocks":["10.10.0.0/16"],"description":"","from_port":50000,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":false,"to_port":50000},{"cidr_blocks":["10.10.0.0/16"],"description":"","from_port":8080,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":false,"to_port":8080},{"cidr_blocks":[],"description":"","from_port":22,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":["sg-065c131d87c2d5d7c"],"self":false,"to_port":22}],"name":"jenkins-sg","name_prefix":"","owner_id":"034362062877","revoke_rules_on_delete":false,"tags":{"Name":"jenkins-sg"},"tags_all":{"Name":"jenkins-sg"},"timeouts":null,"vpc_id":"vpc-0f592e81b7d6dd1f6"},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6OTAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIxIn0=","dependencies":["aws_security_group.jump_sg","aws_vpc.vzrsp_cicd_vpc"]}]},{"mode":"managed","type":"aws_security_group","name":"jump_sg","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":1,"attributes":{"arn":"arn:aws:ec2:ap-south-1:034362062877:security-group/sg-065c131d87c2d5d7c","description":"Allow SSH from internet and access to private subnet","egress":[{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":0,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"-1","security_groups":[],"self":false,"to_port":0}],"id":"sg-065c131d87c2d5d7c","ingress":[{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":22,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":false,"to_port":22},{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":8080,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":false,"to_port":8080}],"name":"jump-server-sg","name_prefix":"","owner_id":"034362062877","revoke_rules_on_delete":false,"tags":{"Name":"jump-server-sg"},"tags_all":{"Name":"jump-server-sg"},"timeouts":null,"vpc_id":"vpc-0f592e81b7d6dd1f6"},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6OTAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIxIn0=","dependencies":["aws_vpc.vzrsp_cicd_vpc"]}]},{"mode":"managed","type":"aws_subnet","name":"vzrsp_cicd_private_subnet","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"index_key":0,"schema_version":1,"attributes":{"arn":"arn:aws:ec2:ap-south-1:034362062877:subnet/subnet-0ac83dc5b4ed57695","assign_ipv6_address_on_creation":false,"availability_zone":"ap-south-1a","availability_zone_id":"aps1-az1","cidr_block":"10.10.2.0/24","customer_owned_ipv4_pool":"","enable_dns64":false,"enable_lni_at_device_index":0,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"id":"subnet-0ac83dc5b4ed57695","ipv6_cidr_block":"","ipv6_cidr_block_association_id":"","ipv6_native":false,"map_customer_owned_ip_on_launch":false,"map_public_ip_on_launch":false,"outpost_arn":"","owner_id":"034362062877","private_dns_hostname_type_on_launch":"ip-name","tags":{"Name":"vzrsp-cicd-private-subnet-1"},"tags_all":{"Name":"vzrsp-cicd-private-subnet-1"},"timeouts":null,"vpc_id":"vpc-0f592e81b7d6dd1f6"},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTIwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9","dependencies":["aws_vpc.vzrsp_cicd_vpc"]},{"index_key":1,"schema_version":1,"attributes":{"arn":"arn:aws:ec2:ap-south-1:034362062877:subnet/subnet-0846275bda6b67170","assign_ipv6_address_on_creation":false,"availability_zone":"ap-south-1b","availability_zone_id":"aps1-az3","cidr_block":"10.10.4.0/24","customer_owned_ipv4_pool":"","enable_dns64":false,"enable_lni_at_device_index":0,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"id":"subnet-0846275bda6b67170","ipv6_cidr_block":"","ipv6_cidr_block_association_id":"","ipv6_native":false,"map_customer_owned_ip_on_launch":false,"map_public_ip_on_launch":false,"outpost_arn":"","owner_id":"034362062877","private_dns_hostname_type_on_launch":"ip-name","tags":{"Name":"vzrsp-cicd-private-subnet-2"},"tags_all":{"Name":"vzrsp-cicd-private-subnet-2"},"timeouts":null,"vpc_id":"vpc-0f592e81b7d6dd1f6"},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTIwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9","dependencies":["aws_vpc.vzrsp_cicd_vpc"]}]},{"mode":"managed","type":"aws_subnet","name":"vzrsp_cicd_public_subnet","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"index_key":0,"schema_version":1,"attributes":{"arn":"arn:aws:ec2:ap-south-1:034362062877:subnet/subnet-03fac3a1880c08874","assign_ipv6_address_on_creation":false,"availability_zone":"ap-south-1a","availability_zone_id":"aps1-az1","cidr_block":"10.10.1.0/24","customer_owned_ipv4_pool":"","enable_dns64":false,"enable_lni_at_device_index":0,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"id":"subnet-03fac3a1880c08874","ipv6_cidr_block":"","ipv6_cidr_block_association_id":"","ipv6_native":false,"map_customer_owned_ip_on_launch":false,"map_public_ip_on_launch":true,"outpost_arn":"","owner_id":"034362062877","private_dns_hostname_type_on_launch":"ip-name","tags":{"Name":"vzrsp-cicd-public-subnet-1"},"tags_all":{"Name":"vzrsp-cicd-public-subnet-1"},"timeouts":null,"vpc_id":"vpc-0f592e81b7d6dd1f6"},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTIwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9","dependencies":["aws_vpc.vzrsp_cicd_vpc"]},{"index_key":1,"schema_version":1,"attributes":{"arn":"arn:aws:ec2:ap-south-1:034362062877:subnet/subnet-092ee609e47ce0032","assign_ipv6_address_on_creation":false,"availability_zone":"ap-south-1b","availability_zone_id":"aps1-az3","cidr_block":"10.10.3.0/24","customer_owned_ipv4_pool":"","enable_dns64":false,"enable_lni_at_device_index":0,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"id":"subnet-092ee609e47ce0032","ipv6_cidr_block":"","ipv6_cidr_block_association_id":"","ipv6_native":false,"map_customer_owned_ip_on_launch":false,"map_public_ip_on_launch":true,"outpost_arn":"","owner_id":"034362062877","private_dns_hostname_type_on_launch":"ip-name","tags":{"Name":"vzrsp-cicd-public-subnet-2"},"tags_all":{"Name":"vzrsp-cicd-public-subnet-2"},"timeouts":null,"vpc_id":"vpc-0f592e81b7d6dd1f6"},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTIwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9","dependencies":["aws_vpc.vzrsp_cicd_vpc"]}]},{"mode":"managed","type":"aws_vpc","name":"vzrsp_cicd_vpc","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":1,"attributes":{"arn":"arn:aws:ec2:ap-south-1:034362062877:vpc/vpc-0f592e81b7d6dd1f6","assign_generated_ipv6_cidr_block":false,"cidr_block":"10.10.0.0/16","default_network_acl_id":"acl-08a3177972a530945","default_route_table_id":"rtb-01f6aa4e9cfcc0f5c","default_security_group_id":"sg-04ec16584df1723b6","dhcp_options_id":"dopt-08a39fda6e1ecfaf9","enable_dns_hostnames":false,"enable_dns_support":true,"enable_network_address_usage_metrics":false,"id":"vpc-0f592e81b7d6dd1f6","instance_tenancy":"default","ipv4_ipam_pool_id":null,"ipv4_netmask_length":null,"ipv6_association_id":"","ipv6_cidr_block":"","ipv6_cidr_block_network_border_group":"","ipv6_ipam_pool_id":"","ipv6_netmask_length":0,"main_route_table_id":"rtb-01f6aa4e9cfcc0f5c","owner_id":"034362062877","tags":{"Name":"vzrsp-cicd-vpc"},"tags_all":{"Name":"vzrsp-cicd-vpc"}},"sensitive_attributes":[],"private":"eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ=="}]}],"check_results":null}
